# テストケース

## トップページのテスト

- トップページが正常に表示されること
  - 正しくロードされること
  - 主要な要素（ヘッダー、フッター、メインコンテンツ）が表示されていること
    - ページの完全な読み込みを確認するために、特定の要素の存在をチェックする。例えば、await driver.findElement(By.tagName('header')) のように主要な要素が存在するかを確認します。
- トップページに存在するリンクが正しく動作すること（リンク切れが発生していないこと）
  - 全てのリンクが正しいページに遷移すること
    - リンクをクリックする前にリンクの URL を取得しておき、クリック後にその URL に遷移しているかを確認する。
  - 遷移先のページが正常に表示されていること
- トップページの検索ボックスが正しく動作すること(2 箇所）
  - 検索結果の一覧が表示されること
    - 検索結果が表示されるまで待機するロジックを追加する。例えば、await driver.wait(until.elementLocated(By.id('search-results')), 10000) のように検索結果が表示されるまで待機します。
  - 検索ボックスに入れた内容に対して適切なページが表示されていること
  - 検索結果がなかったときに、正しく表示されること

## 柄の名前一覧（固定ページ）のテスト

### 最新記事、または指定したページを対象にテストできるようにする

- 各画像リンクを押した場合に正しく動作すること（リンク切れしていないこと、押した画像とリンク先の一覧が正しく紐づいていること
  - 全ての画像リンクが正しいページに遷移すること
  - リンク先ページではリンク元画像に対応する内容が表示されていること
    - 画像リンクをクリックした後、リンク先のページの特定の要素が表示されるまで待機する。また、リンク元の画像情報とリンク先の情報が一致しているかを確認する。

## 各素材詳細ページのテスト

- 素材のダウンロードができること
  - ダウンロードリンクが動作し、ファイルが正しくダウンロードされること
    - ダウンロードリンクをクリックした後、ファイルのダウンロードが完了したことを確認する。ヘッドレスブラウザを使う場合、ダウンロードディレクトリを監視して、ファイルが存在するか確認する。
- ダウンロードした素材の色・サイズに誤りがないこと
  - ダウンロード元ページにテキストで色名・サイズが記載されているので、ダウンロードファイル名とそれらを比較して確認をする（ファイル名やメタデータを使用した検証）

## 追加のテスト

- レスポンシブデザインのテスト
  - トップページ、詳細ページが異なるページで正しく表示されることを確認する
    - ブラウザのウィンドウサイズを変更し、それぞれのデバイスサイズ（デスクトップ、タブレット、モバイル）でページが正しく表示されるかを確認する
- パフォーマンステスト
  - ページの読み込み速度、主要な操作（検索、リンククリック、ダウンロード）が遅延なく動作することを確認
    - ページのロード時間を計測し、期待される範囲内に収まっているかを確認する。例えば、performance.timing API を使用してページの読み込み時間を取得。
- セキュリティテスト
  - 検索 BOX に対して基本的な XSS 攻撃を試みて対応されているかを確認する
    - 検索ボックスにスクリプトタグを入力し、スクリプトが実行されないことを確認する。例えば、`<script>alert("XSS")</script>` を入力してテストする。
